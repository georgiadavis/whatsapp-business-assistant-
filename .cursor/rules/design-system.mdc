---
alwaysApply: true
---
# WhatsApp Design System (WDS)

## Overview

The design system is located in `app/src/main/java/com/example/chatapp/wds/` and consists of:

## 1. Colors (`wds/theme/`)

**Files**: `WdsColorScheme.kt`, `WdsSemanticLightColors.kt`, `WdsSemanticDarkColors.kt`, `BaseColors.kt`

### Semantic Colors (Use These)
- `colorContentDefault` - Primary text and icons
- `colorContentDeemphasized` - Secondary text and icons
- `colorContentEmphasized` - Emphasized text (bold, important)
- `colorContentInverse` - Text on dark backgrounds
- `colorSurfaceDefault` - Default background
- `colorSurfaceElevatedDefault` - Elevated surfaces (cards, sheets)
- `colorSurfaceHighlight` - Highlighted areas
- `colorAccentEmphasized` - Primary actions, links
- `colorAccentDeemphasized` - Tinted backgrounds
- `colorPositive`, `colorNegative`, `colorWarning` - Status colors

**Access via**: `WdsTheme.colors.colorContentDefault`

### Base Colors
Only use base colors (e.g., `BaseColors.wdsGray50`, `BaseColors.wdsCobalt500`) when semantic colors don't fit the use case.

## 2. Typography (`wds/tokens/WdsTypography.kt`)

### Available Styles
- `largeTitle1`, `largeTitle2` - Large headings
- `headline1`, `headline2` - Section headings
- `body1`, `body2` - Body text
- `body1Emphasized`, `body2Emphasized` - Bold body text
- `caption1`, `caption2` - Small text, captions
- `chatBubbleText`, `chatTimestamp` - Chat-specific styles

**Access via**: `WdsTheme.typography.headline1`

## 3. Spacing (`wds/tokens/WdsDimensions.kt`)

### Available Tokens
- `wdsSpacingQuarter` (2dp) - Minimal spacing
- `wdsSpacingHalf` (4dp) - Very tight spacing
- `wdsSpacingSingle` (8dp) - Default small spacing
- `wdsSpacingSinglePlus` (12dp) - Medium-small spacing
- `wdsSpacingDouble` (16dp) - Standard spacing
- `wdsSpacingTriple` (24dp) - Large spacing
- `wdsSpacingQuad` (32dp) - Extra large spacing
- `wdsSpacingQuint` (40dp) - Maximum spacing

**Access via**: `WdsTheme.dimensions.wdsSpacingDouble`

## 4. Corner Radius (`wds/tokens/WdsShapes.kt`)

### Available Tokens
- `none` - No rounding (0dp)
- `halfPlus` - Slight rounding (6dp)
- `single` - Standard rounding (8dp)
- `singlePlus` - Comfortable rounding (12dp)
- `double` - Medium rounding (16dp)
- `triple` - Large rounding (24dp)
- `triplePlus` - Extra large rounding (28dp)
- `circle` - Fully rounded (pills, circles) (100dp)

**Access via**: `WdsTheme.shapes.double`

## 5. Components (`wds/components/`)

### Available Components
- **WDSButton** - Variants: FILLED, TONAL, OUTLINE, BORDERLESS; Actions: PRIMARY, SECONDARY, MEDIA
- **WDSChip** - Actions: PRIMARY, SECONDARY; Sizes: SMALL, MEDIUM, LARGE
- **WDSTextField** - Single-line and multi-line
- **WDSFab** - Floating action button
- **WDSDivider** - Divider line
- **WDSBottomSheet** - Bottom sheet
- **WdsCheckbox, WdsRadioButton, WdsSwitch, WdsDialog** - Form controls


# MANDATORY: Always Use WdsTheme

**NEVER use hardcoded values. ALWAYS use design system tokens.**

## Rule 1: Use WdsTheme for All Styling

❌ **WRONG:**
```kotlin
Text(
    text = "Hello",
    color = Color(0xFF000000),
    fontSize = 16.sp
)
Box(
    modifier = Modifier
        .padding(16.dp)
        .background(Color.White, RoundedCornerShape(8.dp))
)
```

✅ **CORRECT:**
```kotlin
Text(
    text = "Hello",
    style = WdsTheme.typography.body1,
    color = WdsTheme.colors.colorContentDefault
)
Box(
    modifier = Modifier
        .padding(WdsTheme.dimensions.wdsSpacingDouble)
        .background(
            WdsTheme.colors.colorSurfaceDefault,
            WdsTheme.shapes.single
        )
)
```

## Rule 2: Cache Theme Lookups for Performance

When using multiple theme properties in a composable, cache them in local variables:

✅ **CORRECT:**
```kotlin
@Composable
fun MyScreen() {
    val colors = WdsTheme.colors
    val dimensions = WdsTheme.dimensions
    val typography = WdsTheme.typography

    Column(
        modifier = Modifier.padding(dimensions.wdsSpacingTriple)
    ) {
        Text(
            text = "Title",
            style = typography.headline1,
            color = colors.colorContentDefault
        )
        Text(
            text = "Subtitle",
            style = typography.body1,
            color = colors.colorContentDeemphasized
        )
    }
}
```

## Rule 3: Use WDS Components

Always prefer WDS components over Material3 components when available:

❌ **WRONG:**
```kotlin
Button(onClick = { }) {
    Text("Click me")
}
```

✅ **CORRECT:**
```kotlin
WDSButton(
    onClick = { },
    text = "Click me",
    variant = WDSButtonVariant.FILLED
)
```

## Summary Checklist

When writing new code, ensure:
- ✅ All colors use `WdsTheme.colors` semantic colors
- ✅ All text uses `WdsTheme.typography` styles
- ✅ All spacing uses `WdsTheme.dimensions` tokens
- ✅ All corner radius uses `WdsTheme.shapes` tokens
- ✅ All icons use `Icons.Outlined.*` by default (FILL 0, wght 400, GRAD 0, opsz 24)
- ✅ WDS components are used instead of Material3 when available
- ✅ Theme properties are cached in local variables
- ✅ Static data is wrapped in `remember`
- ✅ Imports are organized and explicit
- ✅ Preview functions are included
- ✅ Code follows the established patterns

# Material Icons Guidelines

**IMPORTANT**: When using Material Icons from the Material Icons Extended library.

## Default Icon Settings

**ALWAYS use the Outlined variant with these settings:**

```
'FILL' 0      - Outlined (not filled)
'wght' 400    - Default weight
'GRAD' 0      - Default grade
'opsz' 24     - 24dp optical size
```

## Implementation

### ✅ CORRECT - Use Outlined variant by default

```kotlin
import androidx.compose.material.icons.outlined.*

Icon(
    imageVector = Icons.Outlined.Settings,
    contentDescription = "Settings",
    tint = WdsTheme.colors.colorContentDefault
)

Icon(
    imageVector = Icons.Outlined.PhotoCamera,
    contentDescription = "Camera",
    tint = WdsTheme.colors.colorContentDeemphasized,
    modifier = Modifier.size(24.dp)
)

Icon(
    imageVector = Icons.Outlined.Call,
    contentDescription = "Calls"
)
```

### ❌ WRONG - Don't use Rounded or Filled unless specifically requested

```kotlin
// Don't use these by default
Icon(imageVector = Icons.Rounded.Settings, ...)
Icon(imageVector = Icons.Filled.Settings, ...)
Icon(imageVector = Icons.Sharp.Settings, ...)
```

## Icon Guidelines

- ✅ **Default to Outlined**: Always use `Icons.Outlined.*` unless user specifically requests another variant
- ✅ **Import outlined icons**: Add `import androidx.compose.material.icons.outlined.*` when using icons
- ✅ **24dp size**: Default icon size is 24dp (can be adjusted with `Modifier.size()` if needed)
- ✅ **Use WDS colors**: Always tint icons with `WdsTheme.colors` for consistency
- ✅ **Content description**: Always provide descriptive `contentDescription` for accessibility
- ✅ **Browse icons**: Reference [fonts.google.com/icons](https://fonts.google.com/icons) for available icons

## When to Use Other Variants

Use non-Outlined variants **ONLY** when explicitly requested:

### Filled Icons
Only when user explicitly requests filled icons or for selected/active states:

```kotlin
// Example: Selected state in a tab or button
Icon(
    imageVector = if (isSelected) Icons.Filled.Favorite else Icons.Outlined.Favorite,
    contentDescription = "Favorite"
)
```

### Rounded Icons
Only when user explicitly requests rounded style:

```kotlin
// Only use when specifically asked
Icon(imageVector = Icons.Rounded.Home, ...)
```

### Sharp Icons
Only when user explicitly requests sharp/angular style:

```kotlin
// Only use when specifically asked
Icon(imageVector = Icons.Sharp.Star, ...)
```

## Complete Example

```kotlin
@Composable
fun TopBarWithIcons() {
    val colors = WdsTheme.colors
    
    TopAppBar(
        title = { Text("My Screen") },
        navigationIcon = {
            IconButton(onClick = { /* back */ }) {
                Icon(
                    imageVector = Icons.Outlined.ArrowBack,
                    contentDescription = "Back",
                    tint = colors.colorContentDefault
                )
            }
        },
        actions = {
            IconButton(onClick = { /* search */ }) {
                Icon(
                    imageVector = Icons.Outlined.Search,
                    contentDescription = "Search",
                    tint = colors.colorContentDefault
                )
            }
            IconButton(onClick = { /* settings */ }) {
                Icon(
                    imageVector = Icons.Outlined.Settings,
                    contentDescription = "Settings",
                    tint = colors.colorContentDefault
                )
            }
        },
        colors = TopAppBarDefaults.topAppBarColors(
            containerColor = colors.colorSurfaceDefault
        )
    )
}
```

## Common Material Icons

Here are commonly used icons in the app:

| Icon Name | Usage | Import |
|-----------|-------|--------|
| `PhotoCamera` | Camera actions | `Icons.Outlined.PhotoCamera` |
| `Call` | Phone/call actions | `Icons.Outlined.Call` |
| `Archive` | Archive actions | `Icons.Outlined.Archive` |
| `Settings` | Settings menu | `Icons.Outlined.Settings` |
| `Search` | Search functionality | `Icons.Outlined.Search` |
| `ArrowBack` | Back navigation | `Icons.Outlined.ArrowBack` |
| `MoreVert` | More options menu | `Icons.Outlined.MoreVert` |
| `Send` | Send message | `Icons.AutoMirrored.Outlined.Send` |
| `Palette` | Design library | `Icons.Outlined.Palette` |
| `Share` | Share functionality | `Icons.Outlined.Share` |

## Summary

✅ **Default**: `Icons.Outlined.*` with FILL 0, wght 400, GRAD 0, opsz 24  
✅ **Import**: `import androidx.compose.material.icons.outlined.*`  
✅ **Tint**: Use `WdsTheme.colors` for all icon colors  
✅ **Size**: 24dp default (adjust with `Modifier.size()` if needed)  
✅ **Accessibility**: Always provide `contentDescription`  

❌ **Avoid**: Don't use Filled, Rounded, or Sharp variants unless specifically requested  
❌ **Avoid**: Don't hardcode icon colors - use WdsTheme  
❌ **Avoid**: Don't forget contentDescription for accessibility
